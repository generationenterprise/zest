<script type="text/ng-template" id="login-modal.html">
    <div class="modal-body">
        <div ng-if="error" class="alert alert-warning" role="alert">{{error}}</div>
        <div ng-if="didReset" class="alert alert-success" role="alert">Check your email for the reset code.</div>
        <div class="form-group">
            <label ng-if="!didReset">Password</label>
            <label ng-if="didReset">Reset Code</label>
            <input type="password" name="password" class="form-control" ng-model="password" required>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-success" ng-click="continue()" ng-disabled="!password">Login</button>
        <button class="btn btn-danger" ng-click="reset()">Reset Password</button>
    </div>
</script>
<script type="text/ng-template" id="register-modal.html">
    <div class="modal-body">
        <div class="form-group">
            <label>Password</label>
            <input type="password" name="password" class="form-control" ng-model="password" required>
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" name="password" class="form-control" ng-model="passwordConfirm" required>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-success" ng-click="continue()" ng-disabled="!isValid()">Register</button>
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
    </div>
</script>
<script type="text/ng-template" id="choose-modal.html">
    <div class="modal-body">
        Would you like to create a <b>new booking</b> or modify an existing one?
    </div>
    <div class="modal-footer">
        <button class="btn btn-success" ng-click="createNew()">Create New</button>
        <button class="btn btn-primary" ng-click="modifyExisting()">Modify Existing</button>
    </div>
</script>
<div class="container page">
    <div layout="row" layout-sm="column" layout-align="center" layout-margin layout-fill layout-padding>
        <div layout="column" layout-align="top">
            <div>
                <h1>Home Cleaning</h1></div>
            <div ng-include="'app/book/checklists.html'" hide-sm></div>
        </div>
        <div ng-if="loading" layout="column" layout-align="space-around center" layout-margin layout-fill layout-padding class="booking-form-container md-card-shadow">
            <span class="fa fa-spinner fa-spin"></span>
        </div>
        <div ng-if="!loading" layout="column" layout-align="space-around center" layout-margin layout-fill layout-padding class="booking-form-container md-card-shadow">
            <div class="form-item">
                <h-number value="cleaning.bedrooms" min="1" max="10" step="1" singular="bedroom" plural="bedrooms"></h-number>
            </div>
            <div class="form-item">
                <h-number value="cleaning.bathrooms" min="1" max="10" step="1" singular="bathroom" plural="bathrooms"></h-number>
            </div>
            <div class="form-item">
                <h5>Cleaning Extras</h5>
                <div layout="row" layout-sm="row" layout-wrap flex class="extras" layout-align="center center">
                    <div class="extra-item" ng-if="extras.loading === true">
                        <span class="fa fa-spinner fa-spin"></span>
                    </div>
                    <div ng-if="extras.loading !== true" ng-repeat="item in extras" ng-click='item.selected = !item.selected'>
                        <div class="extra-item {{item.selected===true ? 'selected':''}}" flex="25">
                            <img ng-src="assets/images/extras/{{item.icon}}"> {{item.description}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-item">
                Cleaning will take approximately <b>{{recommendation()}}</b>.
                <br>
                <br> Don't worry. You're only charged for the actual lenght of cleaning.
            </div>
            <!--div class="form-item">
                We recommend <b>{{recommendation()}}</b>
                <p class="comment">It's better to book more time rather than less. You're only charged for the actual lenght of cleaning.</p>
                <h-number value="booking.hours" min="2" max="10" step="0.5" singular="hour" plural="hours" change="booking.manual = true"></h-number>
            </div-->
            <div class="form-item">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon">&nbsp;<span class="fa fa-user" />&nbsp;</div>
                        <input type="text" class="form-control" ng-model="customer.fullName" placeholder="Your First and Last Names">
                    </div>
                    <br>
                    <div class="input-group">
                        <div class="input-group-addon">&nbsp;<span class="fa fa-envelope-o" />&nbsp;</div>
                        <input type="text" class="form-control" ng-model="customer.email" placeholder="Email Address">
                    </div>
                    <br>
                    <div class="input-group">
                        <div class="input-group-addon">&nbsp;&nbsp;<span class="fa fa-phone" />&nbsp;</div>
                        <input type="text" class="form-control" ng-model="customer.mobilePhone" placeholder="Mobile Phone Number">
                    </div>
                </div>
            </div>
            <div class="form-item">
                Do you have any pets?
                <div class="btn-group" style="width:100%">
                    <label class="btn btn-primary" ng-model="cleaning.pets.cats" btn-checkbox style="width:34%">Cats</label>
                    <label class="btn btn-primary" ng-model="cleaning.pets.dogs" btn-checkbox style="width:34%">Dogs</label>
                    <label class="btn btn-primary" ng-model="cleaning.pets.other" btn-checkbox style="width:32%">Other</label>
                </div>
                <input ng-if="cleaning.pets.cats || cleaning.pets.dogs || cleaning.pets.other" type="text" class="form-control pets-describe" ng-model="cleaning.pets.description" placeholder="Describe eg. Black cat, white cat">
            </div>
            <button type="button" class="btn btn-success submit" disabled ng-if="submitting">
                <span class="fa fa-spinner fa-spin"></span> Registering...
            </button>
            <button type="button" class="btn btn-success submit" ng-click="continue()" ng-disabled="validator.disable()" ng-if="!submitting">
                <span ng-if="!validator.disable()">Schedule</span>
                <span ng-if="validator.disable()">{{validator.message()}}</span>
            </button>
        </div>
    </div>
</div>